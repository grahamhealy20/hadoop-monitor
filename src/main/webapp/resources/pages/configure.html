<sidebar></sidebar>

<!-- Demo of Overview page with metrics -->
<div class="main container-fluid">
    <h1>Configure</h1>
    <!-- Top row -->

    <div class="row">
    
        <div class="col-md-12">

            <div class="panel panel-default">
                <div class="panel-body">
                		<div class="row">
							<div class="col-md-12">
								 <h2>{{cluster.name}}</h2>
			                     <h2><small>{{cluster.ipAddress}}</small></h2>
			                     <h2><small>{{cluster.username}}</small></h2>
								<div class="form-group">
    								<a ng-click="updateCluster(cluster)" class="btn btn-primary"><i class="fa fa-save"></i>  Update Cluster</a>
    							</div>  
							</div>
						</div>
						<div ng-form name="editClusterForm">
							<div class="row">
								
								<div class="col-md-3">
								<h3>General</h3>
									<div class="form-group">
										<label for="name">Name</label>
										 <input type="text" class="form-control" id="name" placeholder="Cluster" ng-model="cluster.name" required>
									</div>
			
									<div class="form-group">
										<label for="ipAddress">IP Address</label>
										 <input type="text" class="form-control" id="ipAddress" placeholder="127.0.0.1" ng-model="cluster.ipAddress" ng-pattern="/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/" required>
									</div>
									
									<div class="form-group">
										<label for="username">Username</label>
										 <input type="text" class="form-control" id="username" placeholder="Graham" ng-model="cluster.username" required>
									</div>
								</div>
														
								<div class="col-md-3">
									<h3>DFSIO Options</h3>
									<div class="form-group">
										<label for="throughputLimit">Throughput Limit Mb</label>
										 <input type="number" class="form-control" id="throughputLimit" placeholder="100 Mb" ng-model="cluster.dfsioOptions.throughputLimit" required>
									</div>
			
									<div class="form-group">
										<label for="iOLimit">I/O Rate Limit</label>
										 <input type="number" class="form-control" id="iOLimit" placeholder="100 Mb/s" ng-model="cluster.dfsioOptions.ioLimit" required>
									</div>
									
									<div class="form-group">
										<label for="stdDeviationLimit">Standard Deviation Limit</label>
										 <input type="number" class="form-control" id="stdDeviationLimit" placeholder="10 Mb" ng-model="cluster.dfsioOptions.stdDeviationLimit" required>
									</div>
							
								</div>
								
								<div class="col-md-3">
									<h3>MRBench Options</h3>
									<div class="form-group">
										<label for="maps">Maps</label>
										 <input type="number" class="form-control" id="maps" placeholder="5" ng-model="cluster.mrbenchOptions.maps" required>
									</div>
			
									<div class="form-group">
										<label for="reduces">Reduces</label>
										 <input type="number" class="form-control" id="reduces" placeholder="5" ng-model="cluster.mrbenchOptions.reduces" required>
									</div>
															
								</div>
								
								
							</div>
							
							<div class="row">
								<div class="col-md-12">
									<a class="btn btn-primary" ng-click="balanceCluster()">Balance Cluster</a>
								</div>
							
							</div>
						
							
							

	
	                	</div>
	                	
                </div>
            </div>

        </div>
	
		
    </div> <!-- row -->
    
	<div class="row">
		<div class="col-md-12">
			<div class="panel panel-default">
	    		<div class="panel-body">
	    			<h2>Overview Layout</h2>
	    			<div class="col-md-2">
	    				<select class="form-control" ng-show="metrics.length" ng-options="metric as metric.name for metric in metrics" ng-model="selectedMetric"></select>
	    			</div>
	    			<div class="col-md-12">
	    				<div ng-repeat="row in cluster.layout.rows" class="layout-row">
	    					<h4>Row</h4>
	    					<div class="row">
		    					<div class="layout-col col-xs-1" ng-repeat="col in row.cols">
			    					<div class="panel panel-default">
				    					<div class="panel-title">
				    						<p>{{col.metric.name}}</p>
				    					</div>
			    								    						    						    			
			    						<p>{{col.limit}}</p>
			    						<a href="" ng-click="removeCol(row, col)">Remove</a>
			    					</div>
		    					</div>	    					
	    					</div>

							<a ng-href="" ng-click="addCol(row)" ng-show="getCount(row)" class="btn btn-primary">Add</a>
	    					<a ng-href="" ng-click="removeRow(row)" class="btn btn-danger">Delete Row</a>
	    				</div>
	    				<div class="row">
	    					<div class="col-md-3">
	    						<a ng-href="" ng-click="addRow()" class="btn btn-primary">Add new row</a>
	    					</div>
	    					<div class="col-md-3 pull-right">
	    						<div class="form-group">
    								<a ng-click="updateCluster(cluster)" class="btn btn-primary"><i class="fa fa-save"></i>  Update Cluster</a>
    							</div> 
	    					</div>
	    					
	    				</div>
	    			
	    			</div>
	    		</div>
	    	</div>
		</div>
	</div>    
  
  <style>
  	.layout-row {
  		background-color: lightgray !important;
  		padding: 5px;
  		margin-top: 10px;
  		margin-bottom: 10px;
  		border-radius: 3px;
  		border: 3px dashed gray;
  	}
  
  
  	.layout-col {
  		border-radius: 3px;
  		height: 120px;
  		width: 120px;
  	}
  	
  	.layout-col .panel {
  		padding: 5px;
  		height: 100px !important;
  		width: 100px !important;
  	}
  	
  	 .layout-col a {
  		position: absolute;
  		bottom: 5px;
  		left: 5px;
  	}
  
  </style>
    
</div>
